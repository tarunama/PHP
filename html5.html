<!DOCTYPE html>
<!-- HTML5 -->
<html>
<head>
<meta charset="utf-8">
<style type="text/css">
body {
	margin: 0px;
}
#video {
	height: 300px;
	width:  400px;
	float: left;
}
#sub {
	width: 200px;
	float: left;
}
#seek {
	width:  380px;
	background-color: #696969;
}
#ctl {
	background-color: #999999;
	width: 400px;
}
#pause {
	margin-left: 5px;
}
</style>
</head>
<body>
<video id="video">
	<source src="http://hakuhin.jp/download/js/video/sample_00.webm" id="main">
	<p>お使いのブラウザに対応しておりません。ご了承ください。</p>
</video>

<video id="sub">
	<source src="movie.mp4" id="second">
	<p>お使いのブラウザに対応しておりません。ご了承ください。</p>
</video>

<div id="ctl">
	<input type="range" id="seek">
	<br>
	<button onclick="play()" id="play">start</button>
	<button onclick="pause()" id="pause">stop</button>
</div>

<script type="text/javascript">
	var v 					= document.getElementById("video");
	var sub					= document.getElementById("sub");
	var seek 				= document.getElementById("seek");
	var play				= document.getElementById("play");
	var main 				= document.getElementById("main");
	var second 				= document.getElementById("second");

	function play(){
		v.play();
	}
	function pause(){
		v.pause();
	}

	// スライダー表示
	video.addEventListener("loadedmetadata",function(){
		seek.min			= seek.value = v.initialTime ||　0;
		seek.max			= v.duration;
	},false);

	// ボタンのバリューの切り替え
	video.addEventListener("play",function(){
		play.textContent	= "pause";
	},false);
	video.addEventListener("pause",function(){
		play.textContent	= "start";
	},false);

	// スライダー再生時間とともにスライド
	video.addEventListener("timeupdate",function(){
		seek.value			= v.currentTime;
	},false);

	// 再生・停止ボタン切り替え
	play.addEventListener("click",function(){
		if (v.paused) {
			v.play();
		} else {
			v.pause();
		}
	}, false);

	// seek/vol
	seek.addEventListener("change",function(){
		v.currentTime		= this.valueAsNumber;
	},false);

	// poster click start
	v.addEventListener("click",function(){
		if (v.paused){
			v.play();	
		} else {
			v.pause();
		}
	},false);

	// change movie
	sub.addEventListener("click",function(){
		// if (second.src="http://hakuhin.jp/download/js/video/sample_00.webm") {
		// 	sub.src 		= "movie.mp4";
		// 	second.src 		= "movie.mp4";
		// 	main.src 		= second.src;
		// } else {
		// 	sub.src 		= "http://hakuhin.jp/download/js/video/sample_00.webm";
		// 	second.src 		= "http://hakuhin.jp/download/js/video/sample_00.webm";
		// 	main.src 		- second.src;
		// }
		// if (sub.src="http://hakuhin.jp/download/js/video/sample_00.webm") {
		// 	sub.src 		= "movie.mp4"
		// 	v.src 			= "http://hakuhin.jp/download/js/video/sample_00.webm";
		// } else {
		// 	sub.src 		= "http://hakuhin.jp/download/js/video/sample_00.webm";
		// }

		if (sub.src = "http://hakuhin.jp/download/js/video/sample_00.webm") {
			main.src = second.src;
		} else {
			second.src = main.src;
		}
		// if (second.src = "http://hakuhin.jp/download/js/video/sample_00.webm") {
		// 	second.src = "movie.mp4";
		// 	main.src = "http://hakuhin.jp/download/js/video/sample_00.webm";
		// } else {
		// 	second.src = "http://hakuhin.jp/download/js/video/sample_00.webm";			
		// };
			v.load();
			v.play();

		// if (sub.src="movie.mp4") {
		// 	sub.src 			= "http://hakuhin.jp/download/js/video/sample_00.webm";
		// 	second.src 			= sub.src;
		// 	main.src 			= "movie.mp4";
		// 	v.src 				= main.src;
		// 	v.load();
		// 	v.play();
		// 	exit();
		// }
		// if (sub.src ="http://hakuhin.jp/download/js/video/sample_00.webm") {
		// 	sub.src 			= "movie.mp4";
		// 	second.src 			= sub.src ;
		// 	main.src 			= "http://hakuhin.jp/download/js/video/sample_00.webm";
		// 	v.src 				= main.src;
		// 	v.load();
		// 	v.play();			
		// }
	},false);
</script>
</body>
</html>